<!DOCTYPE html>
<html lang="en">




<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capacitacion Clean Water Technology</title>
    <link rel="preload" href="../css/normalize.css" as="style">
    <link rel="stylesheet" href="../css/normalize.css">
    <link href="https://fonts.googleapis.com/css2?family=Krub:wght@400;700&display=swap" rel="stylesheet">
    <link rel="preload" href="../css/styles.css" as="style">
    <link href="../css/styles.css" rel="stylesheet">
</head>




<body>
    <header>
        <h1 class="titulo">Clean Water Technology</h1>
    </header>




    <div class="nav-bg">
        <nav class="navegacion-principal contenedor">
            
            
            <a href="/index.html">Inicio</a>
                <div class="dropdown">
                    <a href="#" class="dropbtn">Empleados</a>
                        <div class="dropdown-content">
                            <a href="/empleados/registrar-empleado.html">Registrar empleado</a>
                            <a href="/empleados/modificar-empleado.html">Modificar empleado</a>
                            <a href="/empleados/eliminar-empleado.html">Eliminar empleado</a>
                        </div>
                </div>
                
                <div class="dropdown">
                    <a href="#" class="dropbtn">Cursos</a>
                        <div class="dropdown-content">
                            <a href="/cursos/crear-curso.html">Crear curso</a>
                            <a href="/cursos/modificar-curso.html">Modificar Curso</a>
                            <a href="/cursos/eliminar-curso.html">Eliminar Curso</a>
                        </div>
                </div>

                <div class="dropdown">
                    <a href="#" class="dropbtn">Evaluaciones</a>
                        <div class="dropdown-content">
                            <a href="/evaluaciones/crear-evalucion.html">Crear evaluación</a>
                            <a href="/evaluaciones/calificar-evaluacion.html">Calificar evaluación</a>
                            <a href="/evaluaciones/ver-calificaciones.html">Ver calificaciones</a>
                        </div>
                </div>

            <a href="#">Reportes</a>


        </nav>
    </div>

    <section class="contenedor sombra">
        <h2>Lista de Cursos</h2>
        <div id="lista-cursos" class="contenedor-cursos">
            <p>No hay cursos registrados</p>
        </div>
    </section>
    
    <section id="formulario-edicion" class="contenedor sombra" style="display: none;">
        <h2>Editar Curso</h2>
        <form class="formulario">
            <fieldset>
                <legend>Modifique los campos</legend>
                <div class="contenedor-cursos">
                    <div class="campo">
                        <label>Nombre</label>
                        <input id="edit-nombre" class="input-text" type="text" placeholder="Nombre">
                    </div>
                    <div class="campo">
                        <label>Descripción</label>
                        <textarea id="edit-descripcion" class="input-text" placeholder="Descripción"></textarea>
                    </div>
                    <div class="campo">
                        <label>Número de módulos</label>
                        <input id="edit-modulos" class="input-text" type="number" min="1" max="99" placeholder="Número de módulos">
                    </div>
                </div>
                <div class="alinear-derecha flex">
                    <input id="guardar-cambios" class="boton w-sm-100" type="submit" value="Guardar cambios">
                </div>
            </fieldset>
        </form>
    </section>
    
    <script>
        document.addEventListener("DOMContentLoaded", function () {
    const listaCursos = document.getElementById("lista-cursos");
    const formularioEdicion = document.getElementById("formulario-edicion");
    let cursos = JSON.parse(localStorage.getItem("cursos")) || [];
    let cursoEditandoIndex = null;
    
    function mostrarCursos() {
        listaCursos.innerHTML = "";
        if (cursos.length === 0) {
            listaCursos.innerHTML = "<p>No hay cursos registrados</p>";
        } else {
            const ul = document.createElement("ul");
            ul.classList.add("sombra");
            cursos.forEach((curso, index) => {
                const li = document.createElement("li");
                li.classList.add("sombra", "campo");

                // Crear un contenedor para los datos del curso
                const contenedorDatos = document.createElement("div");
                contenedorDatos.classList.add("contenedor-datos");

                // Crear un div para cada dato del curso
                const nombre = document.createElement("div");
                nombre.innerHTML = `<strong>Nombre:</strong> ${curso.nombre}`;
                contenedorDatos.appendChild(nombre);

                const descripcion = document.createElement("div");
                descripcion.innerHTML = `<strong>Descripción:</strong> ${curso.descripcion}`;
                contenedorDatos.appendChild(descripcion);

                const modulos = document.createElement("div");
                modulos.innerHTML = `<strong>Número de módulos:</strong> ${curso.modulos}`;
                contenedorDatos.appendChild(modulos);

                // Crear el botón de modificar
                const btnModificar = document.createElement("button");
                btnModificar.textContent = "Modificar";
                btnModificar.classList.add("boton");
                btnModificar.onclick = () => editarCurso(index);

                // Agregar el contenedor de datos y el botón
                li.appendChild(contenedorDatos);
                li.appendChild(btnModificar);
                ul.appendChild(li);
            });
            listaCursos.appendChild(ul);
        }
    }
    
    function editarCurso(index) {
        cursoEditandoIndex = index;
        const curso = cursos[index];
        document.getElementById("edit-nombre").value = curso.nombre;
        document.getElementById("edit-descripcion").value = curso.descripcion;
        document.getElementById("edit-modulos").value = curso.modulos;
        formularioEdicion.style.display = "block";
    }
    
    document.getElementById("guardar-cambios").addEventListener("click", function (e) {
        e.preventDefault();
        if (cursoEditandoIndex !== null) {
            cursos[cursoEditandoIndex].nombre = document.getElementById("edit-nombre").value;
            cursos[cursoEditandoIndex].descripcion = document.getElementById("edit-descripcion").value;
            cursos[cursoEditandoIndex].modulos = document.getElementById("edit-modulos").value;
            localStorage.setItem("cursos", JSON.stringify(cursos));
            formularioEdicion.style.display = "none";
            mostrarCursos();
        }
    });

    mostrarCursos();
});

    </script>
</body>
</html>
